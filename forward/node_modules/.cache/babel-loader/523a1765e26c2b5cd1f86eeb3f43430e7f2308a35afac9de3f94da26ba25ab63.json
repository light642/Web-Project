{"ast":null,"code":"import { createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, openBlock as _openBlock, createBlock as _createBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"custom-tree-node\"\n};\nconst _hoisted_2 = [\"onClick\"];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_el_button = _resolveComponent(\"el-button\");\n  const _component_el_upload = _resolveComponent(\"el-upload\");\n  const _component_el_tree = _resolveComponent(\"el-tree\");\n  const _component_el_card = _resolveComponent(\"el-card\");\n  return _openBlock(), _createBlock(_component_el_card, null, {\n    default: _withCtx(() => [_createVNode(_component_el_upload, {\n      \"file-list\": _ctx.fileList,\n      \"onUpdate:fileList\": _cache[0] || (_cache[0] = $event => _ctx.fileList = $event),\n      class: \"upload-demo\",\n      action: \"https://run.mocky.io/v3/9d059bf9-4660-45f2-925d-ce80ad6c4d15\",\n      multiple: \"\",\n      \"on-preview\": _ctx.handlePreview,\n      \"on-remove\": _ctx.handleRemove,\n      \"before-remove\": _ctx.beforeRemove,\n      limit: 3,\n      \"on-exceed\": _ctx.handleExceed,\n      style: {\n        \"height\": \"40px\"\n      }\n    }, {\n      default: _withCtx(() => [_createVNode(_component_el_button, {\n        size: \"small\"\n      }, {\n        default: _withCtx(() => [_createTextVNode(\"添加文件\")]),\n        _: 1 /* STABLE */\n      })]),\n      _: 1 /* STABLE */\n    }, 8 /* PROPS */, [\"file-list\", \"on-preview\", \"on-remove\", \"before-remove\", \"on-exceed\"]), _createVNode(_component_el_tree, {\n      style: {\n        \"max-width\": \"600px\"\n      },\n      data: $setup.directory,\n      \"show-checkbox\": \"\",\n      \"node-key\": \"id\",\n      \"expand-on-click-node\": false\n    }, {\n      default: _withCtx(({\n        node,\n        data\n      }) => [_createElementVNode(\"span\", _hoisted_1, [_createElementVNode(\"span\", null, _toDisplayString(node.label), 1 /* TEXT */), _createElementVNode(\"span\", null, [_createElementVNode(\"a\", {\n        onClick: $event => $setup.remove(node, data),\n        style: {\n          \"color\": \"deeppink\"\n        }\n      }, \" Delete \", 8 /* PROPS */, _hoisted_2)])])]),\n      _: 1 /* STABLE */\n    }, 8 /* PROPS */, [\"data\"])]),\n    _: 1 /* STABLE */\n  });\n}","map":{"version":3,"names":["class","_createBlock","_component_el_card","default","_withCtx","_createVNode","_component_el_upload","_ctx","fileList","_cache","$event","action","multiple","handlePreview","handleRemove","beforeRemove","limit","handleExceed","style","_component_el_button","size","_createTextVNode","_","_component_el_tree","data","$setup","directory","node","_createElementVNode","_hoisted_1","_toDisplayString","label","onClick","remove","_hoisted_2"],"sources":["C:\\Users\\Lenovo\\Documents\\webProj\\web\\src\\views\\user\\UserFile.vue"],"sourcesContent":["<template>\r\n    <el-card>\r\n        <el-upload v-model:file-list=\"fileList\" class=\"upload-demo\"\r\n            action=\"https://run.mocky.io/v3/9d059bf9-4660-45f2-925d-ce80ad6c4d15\" \r\n            multiple \r\n            :on-preview=\"handlePreview\"\r\n            :on-remove=\"handleRemove\" \r\n            :before-remove=\"beforeRemove\" :limit=\"3\" :on-exceed=\"handleExceed\"\r\n            style=\"height: 40px;\">\r\n            <el-button size=\"small\">添加文件</el-button>\r\n        </el-upload>\r\n\r\n        <el-tree style=\"max-width: 600px\" :data=\"directory\" show-checkbox node-key=\"id\" :expand-on-click-node=\"false\">\r\n            <template #default=\"{ node, data }\">\r\n                <span class=\"custom-tree-node\">\r\n                    <span>{{ node.label }}</span>\r\n                    <span>\r\n                        <a @click=\"remove(node, data)\" style=\"color: deeppink;\"> Delete </a>\r\n                    </span>\r\n                </span>\r\n            </template>\r\n        </el-tree>\r\n    </el-card>\r\n</template>\r\n<script setup>\r\nimport { ref } from 'vue'\r\nimport axios from 'axios';\r\n\r\nconst directory = ref({})\r\naxios.get('/dir/user').then((res) => {\r\n    directory.value = res.data;\r\n})\r\n\r\nconst remove = (node, data) => {\r\n    console.log(node)\r\n    console.log(data)\r\n    alert(\"delete\")\r\n    const parent = node.parent;\r\n    const children = parent.data.children || parent.data;\r\n    const index = children.findIndex((d) => d.id === data.id);\r\n    children.splice(index, 1);\r\n    directory.value = [...directory.value];\r\n}\r\n</script>\r\n<style>\r\n.custom-tree-node {\r\n    flex: 1;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: space-between;\r\n    font-size: 14px;\r\n    padding-right: 8px;\r\n}\r\n</style>"],"mappings":";;EAcsBA,KAAK,EAAC;AAAkB;mBAd9C;;;;;;uBACIC,YAAA,CAqBUC,kBAAA;IAtBdC,OAAA,EAAAC,QAAA,CAEQ,MAQY,CARZC,YAAA,CAQYC,oBAAA;MARO,WAAS,EAAEC,IAAA,CAAAC,QAAQ;MAF9C,qBAAAC,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAEsCH,IAAA,CAAAC,QAAQ,GAAAE,MAAA;MAAEV,KAAK,EAAC,aAAa;MACvDW,MAAM,EAAC,8DAA8D;MACrEC,QAAQ,EAAR,EAAQ;MACP,YAAU,EAAEL,IAAA,CAAAM,aAAa;MACzB,WAAS,EAAEN,IAAA,CAAAO,YAAY;MACvB,eAAa,EAAEP,IAAA,CAAAQ,YAAY;MAAGC,KAAK,EAAE,CAAC;MAAG,WAAS,EAAET,IAAA,CAAAU,YAAY;MACjEC,KAAqB,EAArB;QAAA;MAAA;;MARZf,OAAA,EAAAC,QAAA,CASY,MAAwC,CAAxCC,YAAA,CAAwCc,oBAAA;QAA7BC,IAAI,EAAC;MAAO;QATnCjB,OAAA,EAAAC,QAAA,CASoC,MAAI,CATxCiB,gBAAA,CASoC,MAAI,E;QATxCC,CAAA;;MAAAA,CAAA;+FAYQjB,YAAA,CASUkB,kBAAA;MATDL,KAAwB,EAAxB;QAAA;MAAA,CAAwB;MAAEM,IAAI,EAAEC,MAAA,CAAAC,SAAS;MAAE,eAAa,EAAb,EAAa;MAAC,UAAQ,EAAC,IAAI;MAAE,sBAAoB,EAAE;;MACxFvB,OAAO,EAAAC,QAAA,CACd,CAKO;QANWuB,IAAI;QAAEH;MAAI,OAC5BI,mBAAA,CAKO,QALPC,UAKO,GAJHD,mBAAA,CAA6B,cAAAE,gBAAA,CAApBH,IAAI,CAACI,KAAK,kBACnBH,mBAAA,CAEO,eADHA,mBAAA,CAAoE;QAAhEI,OAAK,EAAAtB,MAAA,IAAEe,MAAA,CAAAQ,MAAM,CAACN,IAAI,EAAEH,IAAI;QAAGN,KAAwB,EAAxB;UAAA;QAAA;SAAyB,UAAQ,iBAjBxFgB,UAAA,E;MAAAZ,CAAA;;IAAAA,CAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}