{"ast":null,"code":"import { resolveComponent as _resolveComponent, createVNode as _createVNode, withCtx as _withCtx, createTextVNode as _createTextVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-8dac4566\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = {\n  class: \"login-container\"\n};\nconst _hoisted_2 = {\n  key: 0,\n  class: \"form-card\"\n};\nconst _hoisted_3 = {\n  key: 1,\n  class: \"form-card\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_el_input = _resolveComponent(\"el-input\");\n  const _component_el_form_item = _resolveComponent(\"el-form-item\");\n  const _component_el_button = _resolveComponent(\"el-button\");\n  const _component_el_form = _resolveComponent(\"el-form\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [$data.activeForm === 'login' ? (_openBlock(), _createElementBlock(\"div\", _hoisted_2, [_createVNode(_component_el_form, {\n    ref: \"loginForm\",\n    model: $data.loginForm,\n    rules: $data.loginRules,\n    \"label-width\": \"80px\",\n    class: \"login-form\"\n  }, {\n    default: _withCtx(() => [_createVNode(_component_el_form_item, {\n      label: \"用户名\",\n      prop: \"username\"\n    }, {\n      default: _withCtx(() => [_createVNode(_component_el_input, {\n        modelValue: $data.loginForm.username,\n        \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.loginForm.username = $event),\n        placeholder: \"请输入用户名\",\n        \"prefix-icon\": \"el-icon-user\"\n      }, null, 8 /* PROPS */, [\"modelValue\"])]),\n      _: 1 /* STABLE */\n    }), _createVNode(_component_el_form_item, {\n      label: \"密码\",\n      prop: \"password\"\n    }, {\n      default: _withCtx(() => [_createVNode(_component_el_input, {\n        type: \"password\",\n        modelValue: $data.loginForm.password,\n        \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $data.loginForm.password = $event),\n        placeholder: \"请输入密码\",\n        \"prefix-icon\": \"el-icon-lock\"\n      }, null, 8 /* PROPS */, [\"modelValue\"])]),\n      _: 1 /* STABLE */\n    }), _createVNode(_component_el_form_item, null, {\n      default: _withCtx(() => [_createVNode(_component_el_button, {\n        type: \"primary\",\n        onClick: $options.login,\n        class: \"full-width\"\n      }, {\n        default: _withCtx(() => [_createTextVNode(\"登录\")]),\n        _: 1 /* STABLE */\n      }, 8 /* PROPS */, [\"onClick\"]), _createVNode(_component_el_button, {\n        onClick: _cache[2] || (_cache[2] = $event => $options.switchForm('register')),\n        class: \"full-width\",\n        plain: \"\"\n      }, {\n        default: _withCtx(() => [_createTextVNode(\"注册\")]),\n        _: 1 /* STABLE */\n      })]),\n      _: 1 /* STABLE */\n    })]),\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"model\", \"rules\"])])) : $data.activeForm === 'register' ? (_openBlock(), _createElementBlock(\"div\", _hoisted_3, [_createVNode(_component_el_form, {\n    ref: \"registerForm\",\n    model: $data.registerForm,\n    rules: $data.registerRules,\n    \"label-width\": \"80px\",\n    class: \"login-form\"\n  }, {\n    default: _withCtx(() => [_createVNode(_component_el_form_item, {\n      label: \"用户名\",\n      prop: \"username\"\n    }, {\n      default: _withCtx(() => [_createVNode(_component_el_input, {\n        modelValue: $data.registerForm.username,\n        \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => $data.registerForm.username = $event),\n        placeholder: \"请输入用户名\",\n        \"prefix-icon\": \"el-icon-user\"\n      }, null, 8 /* PROPS */, [\"modelValue\"])]),\n      _: 1 /* STABLE */\n    }), _createVNode(_component_el_form_item, {\n      label: \"密码\",\n      prop: \"password\"\n    }, {\n      default: _withCtx(() => [_createVNode(_component_el_input, {\n        type: \"password\",\n        modelValue: $data.registerForm.password,\n        \"onUpdate:modelValue\": _cache[4] || (_cache[4] = $event => $data.registerForm.password = $event),\n        placeholder: \"请输入密码\",\n        \"prefix-icon\": \"el-icon-lock\"\n      }, null, 8 /* PROPS */, [\"modelValue\"])]),\n      _: 1 /* STABLE */\n    }), _createVNode(_component_el_form_item, null, {\n      default: _withCtx(() => [_createVNode(_component_el_button, {\n        type: \"primary\",\n        onClick: $options.register,\n        class: \"full-width\"\n      }, {\n        default: _withCtx(() => [_createTextVNode(\"注册\")]),\n        _: 1 /* STABLE */\n      }, 8 /* PROPS */, [\"onClick\"]), _createVNode(_component_el_button, {\n        onClick: _cache[5] || (_cache[5] = $event => $options.switchForm('login')),\n        class: \"full-width\",\n        plain: \"\"\n      }, {\n        default: _withCtx(() => [_createTextVNode(\"登录\")]),\n        _: 1 /* STABLE */\n      })]),\n      _: 1 /* STABLE */\n    })]),\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"model\", \"rules\"])])) : _createCommentVNode(\"v-if\", true)]);\n}","map":{"version":3,"names":["class","key","_createElementBlock","_hoisted_1","$data","activeForm","_hoisted_2","_createVNode","_component_el_form","ref","model","loginForm","rules","loginRules","default","_withCtx","_component_el_form_item","label","prop","_component_el_input","modelValue","username","_cache","$event","placeholder","_","type","password","_component_el_button","onClick","$options","login","_createTextVNode","switchForm","plain","_hoisted_3","registerForm","registerRules","register","_createCommentVNode"],"sources":["D:\\homework\\Web-Project\\forward\\src\\components\\LoginForm.vue"],"sourcesContent":["<template>\r\n    <div class=\"login-container\">\r\n      <div v-if=\"activeForm === 'login'\" class=\"form-card\">\r\n        <el-form ref=\"loginForm\" :model=\"loginForm\" :rules=\"loginRules\" label-width=\"80px\" class=\"login-form\">\r\n          <el-form-item label=\"用户名\" prop=\"username\">\r\n            <el-input v-model=\"loginForm.username\" placeholder=\"请输入用户名\" prefix-icon=\"el-icon-user\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"密码\" prop=\"password\">\r\n            <el-input type=\"password\" v-model=\"loginForm.password\" placeholder=\"请输入密码\" prefix-icon=\"el-icon-lock\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item>\r\n            <el-button type=\"primary\" @click=\"login\" class=\"full-width\">登录</el-button>\r\n            <el-button @click=\"switchForm('register')\" class=\"full-width\" plain>注册</el-button>\r\n          </el-form-item>\r\n        </el-form>\r\n      </div>\r\n      <div v-else-if=\"activeForm === 'register'\" class=\"form-card\">\r\n        <el-form ref=\"registerForm\" :model=\"registerForm\" :rules=\"registerRules\" label-width=\"80px\" class=\"login-form\">\r\n          <el-form-item label=\"用户名\" prop=\"username\">\r\n            <el-input v-model=\"registerForm.username\" placeholder=\"请输入用户名\" prefix-icon=\"el-icon-user\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"密码\" prop=\"password\">\r\n            <el-input type=\"password\" v-model=\"registerForm.password\" placeholder=\"请输入密码\" prefix-icon=\"el-icon-lock\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item>\r\n            <el-button type=\"primary\" @click=\"register\" class=\"full-width\">注册</el-button>\r\n            <el-button @click=\"switchForm('login')\" class=\"full-width\" plain>登录</el-button>\r\n          </el-form-item>\r\n        </el-form>\r\n      </div>\r\n    </div>\r\n  </template>\r\n  \r\n  <script>\r\n  import axios from 'axios';\r\n  \r\n  export default {\r\n    data() {\r\n      return {\r\n        activeForm: 'login',\r\n        loginForm: {\r\n          username: '',\r\n          password: ''\r\n        },\r\n        loginRules: {\r\n          username: [\r\n            { required: true, message: '请输入用户名', trigger: 'blur' }\r\n          ],\r\n          password: [\r\n            { required: true, message: '请输入密码', trigger: 'blur' }\r\n          ]\r\n        },\r\n        registerForm: {\r\n          username: '',\r\n          password: '',\r\n        },\r\n        registerRules: {\r\n          username: [\r\n            { required: true, message: '请输入用户名', trigger: 'blur' }\r\n          ],\r\n          password: [\r\n            { required: true, message: '请输入密码', trigger: 'blur' }\r\n          ]\r\n        }\r\n      };\r\n    },\r\n    methods: {\r\n      switchForm(formName) {\r\n        this.activeForm = formName;\r\n      },\r\n      register() {\r\n        this.$refs.registerForm.validate((valid) => {\r\n          if (valid) {\r\n            axios.post(\"/user/register\", this.registerForm, { withCredentials: true })\r\n              .then((res) => {\r\n                if (res.data.code == 200) {\r\n                  this.$router.push(\"/meetingRoom\");\r\n                  this.$message.success(\"注册并登录成功\");\r\n                }\r\n              })\r\n              .catch((err) => {\r\n                console.log(err);\r\n              });\r\n          } else {\r\n            console.log('注册失败');\r\n            return false;\r\n          }\r\n        });\r\n      },\r\n      login() {\r\n        this.$refs.loginForm.validate((valid) => {\r\n          if (valid) {\r\n            axios.post(\"/user/login\", this.loginForm, { withCredentials: true })\r\n              .then((res) => {\r\n                if (res.data.code == 200) {\r\n                  this.$message.success(\"登录成功\");\r\n                  this.$router.push(\"/meetingRoom\");\r\n                } else {\r\n                  this.$message.error(\"用户名或密码错误\");\r\n                }\r\n              })\r\n              .catch((err) => {\r\n                console.log(err);\r\n              });\r\n          } else {\r\n            console.log('登录失败');\r\n            return false;\r\n          }\r\n        });\r\n      }\r\n    }\r\n  };\r\n  </script>\r\n  \r\n  <style scoped>\r\n  .login-container {\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    height: 100vh;\r\n    background-color: #f5f5f5;\r\n  }\r\n  \r\n  .form-card {\r\n    background: #fff;\r\n    padding: 20px;\r\n    border-radius: 8px;\r\n    box-shadow: 0 2px 12px rgba(0, 0, 0, 0.1);\r\n    width: 400px;\r\n  }\r\n  \r\n  .login-form {\r\n    margin-top: 20px;\r\n  }\r\n  \r\n  .el-form-item {\r\n    margin-bottom: 20px;\r\n  }\r\n  \r\n  .full-width {\r\n    width: 100%;\r\n  }\r\n  \r\n  .el-button {\r\n    margin-top: 10px;\r\n  }\r\n  \r\n  .el-input__inner {\r\n    height: 40px;\r\n  }\r\n  \r\n  .el-input__inner:focus {\r\n    border-color: #409eff;\r\n  }\r\n  \r\n  .el-button--primary {\r\n    background-color: #409eff;\r\n    border-color: #409eff;\r\n    color: #fff;\r\n  }\r\n  \r\n  .el-button--primary:hover {\r\n    background-color: #66b1ff;\r\n    border-color: #66b1ff;\r\n  }\r\n  \r\n  .el-button[plain] {\r\n    color: #409eff;\r\n    border-color: #dcdfe6;\r\n  }\r\n  </style>\r\n  "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}