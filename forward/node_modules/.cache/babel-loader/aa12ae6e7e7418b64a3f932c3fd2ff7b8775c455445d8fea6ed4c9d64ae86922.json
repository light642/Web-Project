{"ast":null,"code":"export function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return null;\n}","map":{"version":3,"names":[],"sources":["D:\\homework\\Web-Project\\forward\\src\\views\\user\\RoomView.vue"],"sourcesContent":["<template>\r\n    \r\n</template>\r\n<script setup>\r\nlet test = false;\r\n//test = true;\r\nimport { ref } from 'vue';\r\nimport RoomDetails from '@/components/RoomDetails.vue';\r\nimport axios from 'axios';\r\n//import VueCookie from 'vue-cookie';\r\n\r\nlet username = ''//VueCookie.get(\"username\")\r\n/*********/\r\nusername=\"admin1\"\r\n/*********/\r\n//页面初始化\r\nconst currentPage=ref(1)\r\nconst pageTo=()=>{\r\n    currentRoomList.value=[]\r\n    let start=16*(currentPage.value-1);\r\n    let end=(start+16>roomData.value.length) ? roomData.value.length : (start+16);\r\n    console.log(start+' '+end);\r\n    while(start!=end&&roomData.value[start]!=null){\r\n        currentRoomList.value.push(roomData.value[start++]);\r\n    }\r\n    console.log(currentRoomList.value)\r\n}\r\n\r\n//初始化房间列表\r\nconst roomData = ref([])\r\nconst filterParams = ref({})\r\nconst currentRoomList=ref([])\r\nconst refreshRoomData = () => {\r\n    roomData.value=[];\r\n    axios.get('/room',filterParams).then((res) => {\r\n        for (let i in res.data) roomData.value.push(res.data[i]);\r\n        \r\n        currentPage.value=1;\r\n        pageTo();\r\n    })\r\n\r\n}\r\nrefreshRoomData();\r\n\r\nconst typeFilter = ref('');\r\nconst options = ref([\r\n    'option1', 'option2', 'option3'\r\n]);\r\nconst dateSelected = ref([]);\r\nconst filter = () => {\r\n    if (test == true) { alert('filter clicked!'); return }\r\n\r\n    filterParams.value = {\r\n        roomType: typeFilter.value,\r\n        startTime: dateSelected.value ? dateSelected.value[0] : null,\r\n        endTime: dateSelected.value ? dateSelected.value[1] : null\r\n    };\r\n    refreshRoomData();\r\n}\r\n\r\n//房间详情\r\nconst showRoomDetails = ref({\r\n    visable: false,\r\n    index: ''\r\n})\r\nconst showDetails = (index) => {\r\n    showRoomDetails.value.visable = true;\r\n    showRoomDetails.value.index = index+currentPage.value*16-16;\r\n}\r\n\r\n</script>"],"mappings":"","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}