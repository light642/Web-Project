{"ast":null,"code":"import axios from 'axios';\nimport { ref } from 'vue';\nimport { showLoginForm } from '@/script/script';\nexport default {\n  __name: 'LoginForm',\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    const loginForm = ref();\n    const form = ref({\n      username: '',\n      password: ''\n    });\n    const rules = ref({\n      username: [{\n        required: true,\n        message: '请输入用户名',\n        trigger: 'blur'\n      }],\n      password: [{\n        required: true,\n        message: '请输入密码',\n        trigger: 'blur'\n      }]\n    });\n    function login() {\n      loginForm.value.validate(valid => {\n        if (valid) {\n          axios.post(\"/session\", form.value).then(() => {\n            showLoginForm.value = !showLoginForm.value;\n          }).catch(res => {\n            alert(res);\n          });\n        } else {\n          alert(\"请输入用户名和密码\");\n        }\n      });\n    }\n    const __returned__ = {\n      loginForm,\n      form,\n      rules,\n      login,\n      get axios() {\n        return axios;\n      },\n      ref,\n      get showLoginForm() {\n        return showLoginForm;\n      }\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["axios","ref","showLoginForm","loginForm","form","username","password","rules","required","message","trigger","login","value","validate","valid","post","then","catch","res","alert"],"sources":["C:/Users/Lenovo/Documents/Workspace/Web Project/forward/src/components/LoginForm.vue"],"sourcesContent":["<template>\r\n    <el-form ref=\"loginForm\" :model=\"form\" :rules=\"rules\" label-width=\"80px\" class=\"login-form\">\r\n        <el-form-item label=\"用户名\" prop=\"username\">\r\n            <el-input v-model=\"form.username\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"密码\" prop=\"password\">\r\n            <el-input type=\"password\" v-model=\"form.password\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item>\r\n            <el-button type=\"primary\" @click=\"login\">登录</el-button>\r\n        </el-form-item>\r\n    </el-form>\r\n</template>\r\n\r\n<script setup>\r\nimport axios from 'axios'\r\nimport { ref } from 'vue'\r\nimport { showLoginForm } from '@/script/script'\r\n\r\nconst loginForm = ref()\r\nconst form = ref({\r\n    username: '',\r\n    password: ''\r\n})\r\nconst rules = ref({\r\n    username: [\r\n        { required: true, message: '请输入用户名', trigger: 'blur' }\r\n    ],\r\n    password: [\r\n        { required: true, message: '请输入密码', trigger: 'blur' }\r\n    ]\r\n})\r\n\r\nfunction login() {\r\n    loginForm.value.validate((valid) => {\r\n        if (valid) {\r\n            axios.post(\"/session\", form.value)\r\n                .then(() => {\r\n                    showLoginForm.value=!showLoginForm.value;\r\n                })\r\n                .catch((res) => {\r\n                    alert(res)\r\n                })\r\n        } else {\r\n            alert(\"请输入用户名和密码\")\r\n        }\r\n    });\r\n}\r\n</script>\r\n\r\n\r\n\r\n<!--\r\n<style scoped>\r\n.form-switch .el-button.active {\r\n    color: #409eff;\r\n}\r\n\r\n.login-container {\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    height: 100vh;\r\n}\r\n\r\n.login-form {\r\n    height: 120px;\r\n    width: 300px;\r\n    padding: 20px;\r\n}\r\n\r\n.el-form-item .el-button {\r\n    margin-left: 10px;\r\n}\r\n\r\n.form-switch .el-button.active {\r\n    color: #409eff;\r\n}\r\n</style>\r\n-->"],"mappings":"AAeA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,GAAG,QAAQ,KAAK;AACzB,SAASC,aAAa,QAAQ,iBAAiB;;;;;;;IAE/C,MAAMC,SAAS,GAAGF,GAAG,CAAC,CAAC;IACvB,MAAMG,IAAI,GAAGH,GAAG,CAAC;MACbI,QAAQ,EAAE,EAAE;MACZC,QAAQ,EAAE;IACd,CAAC,CAAC;IACF,MAAMC,KAAK,GAAGN,GAAG,CAAC;MACdI,QAAQ,EAAE,CACN;QAAEG,QAAQ,EAAE,IAAI;QAAEC,OAAO,EAAE,QAAQ;QAAEC,OAAO,EAAE;MAAO,CAAC,CACzD;MACDJ,QAAQ,EAAE,CACN;QAAEE,QAAQ,EAAE,IAAI;QAAEC,OAAO,EAAE,OAAO;QAAEC,OAAO,EAAE;MAAO,CAAC;IAE7D,CAAC,CAAC;IAEF,SAASC,KAAKA,CAAA,EAAG;MACbR,SAAS,CAACS,KAAK,CAACC,QAAQ,CAAEC,KAAK,IAAK;QAChC,IAAIA,KAAK,EAAE;UACPd,KAAK,CAACe,IAAI,CAAC,UAAU,EAAEX,IAAI,CAACQ,KAAK,CAAC,CAC7BI,IAAI,CAAC,MAAM;YACRd,aAAa,CAACU,KAAK,GAAC,CAACV,aAAa,CAACU,KAAK;UAC5C,CAAC,CAAC,CACDK,KAAK,CAAEC,GAAG,IAAK;YACZC,KAAK,CAACD,GAAG,CAAC;UACd,CAAC,CAAC;QACV,CAAC,MAAM;UACHC,KAAK,CAAC,WAAW,CAAC;QACtB;MACJ,CAAC,CAAC;IACN","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}