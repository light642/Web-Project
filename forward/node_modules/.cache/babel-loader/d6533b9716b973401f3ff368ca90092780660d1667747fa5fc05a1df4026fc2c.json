{"ast":null,"code":"import { resolveComponent as _resolveComponent, createVNode as _createVNode, withCtx as _withCtx, createTextVNode as _createTextVNode, createElementVNode as _createElementVNode, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"dialog-footer\"\n};\nimport axios from 'axios';\nimport { ref } from 'vue';\nexport default {\n  __name: 'NewRoom',\n  setup(__props) {\n    const addDialogLoading = ref(false);\n    const newMeetingRoom = ref({\n      name: '',\n      capacity: null\n    });\n    const addFormRules = ref({\n      name: [{\n        required: true,\n        message: '请输入会议室名称',\n        trigger: 'blur'\n      }],\n      capacity: [{\n        required: true,\n        message: '请输入容纳人数',\n        trigger: 'blur'\n      }, {\n        type: 'number',\n        message: '请输入有效的数字',\n        trigger: 'blur'\n      }]\n    });\n    const addForm = ref(null);\n    const addMeetingRoom = () => {\n      addForm.value.validate(valid => {\n        if (valid) {\n          addDialogLoading.value = true;\n          // 模拟异步请求\n          axios.post(\"/room\", newMeetingRoom.value);\n          addDialogLoading.value = false;\n          //getMeetingRoomList()\n        }\n      });\n    };\n    return (_ctx, _cache) => {\n      const _component_el_input = _resolveComponent(\"el-input\");\n      const _component_el_form_item = _resolveComponent(\"el-form-item\");\n      const _component_el_input_number = _resolveComponent(\"el-input-number\");\n      const _component_el_form = _resolveComponent(\"el-form\");\n      const _component_el_button = _resolveComponent(\"el-button\");\n      return _openBlock(), _createElementBlock(_Fragment, null, [_createVNode(_component_el_form, {\n        model: newMeetingRoom.value,\n        ref_key: \"addForm\",\n        ref: addForm,\n        rules: addFormRules.value,\n        \"label-width\": \"80px\"\n      }, {\n        default: _withCtx(() => [_createVNode(_component_el_form_item, {\n          label: \"图片\",\n          prop: \"name\"\n        }, {\n          default: _withCtx(() => [_createVNode(_component_el_input, {\n            modelValue: newMeetingRoom.value.name,\n            \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => newMeetingRoom.value.name = $event)\n          }, null, 8, [\"modelValue\"])]),\n          _: 1\n        }), _createVNode(_component_el_form_item, {\n          label: \"会议室名称\",\n          prop: \"name\"\n        }, {\n          default: _withCtx(() => [_createVNode(_component_el_input, {\n            modelValue: newMeetingRoom.value.name,\n            \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => newMeetingRoom.value.name = $event)\n          }, null, 8, [\"modelValue\"])]),\n          _: 1\n        }), _createVNode(_component_el_form_item, {\n          label: \"类型\",\n          prop: \"capacity\"\n        }, {\n          default: _withCtx(() => [_createVNode(_component_el_input_number, {\n            modelValue: newMeetingRoom.value.capacity,\n            \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => newMeetingRoom.value.capacity = $event),\n            min: 1\n          }, null, 8, [\"modelValue\"])]),\n          _: 1\n        }), _createVNode(_component_el_form_item, {\n          label: \"位置\",\n          prop: \"name\"\n        }, {\n          default: _withCtx(() => [_createVNode(_component_el_input, {\n            modelValue: newMeetingRoom.value.name,\n            \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => newMeetingRoom.value.name = $event)\n          }, null, 8, [\"modelValue\"])]),\n          _: 1\n        })]),\n        _: 1\n      }, 8, [\"model\", \"rules\"]), _createElementVNode(\"div\", _hoisted_1, [_createVNode(_component_el_button, {\n        type: \"primary\",\n        loading: addDialogLoading.value,\n        onClick: _cache[4] || (_cache[4] = $event => (addMeetingRoom, _ctx.$emit('submit')))\n      }, {\n        default: _withCtx(() => [_createTextVNode(\"确定\")]),\n        _: 1\n      }, 8, [\"loading\"])])], 64);\n    };\n  }\n};","map":{"version":3,"names":["axios","ref","addDialogLoading","newMeetingRoom","name","capacity","addFormRules","required","message","trigger","type","addForm","addMeetingRoom","value","validate","valid","post"],"sources":["D:/homework/Web-Project/forward/src/components/admin/NewRoom.vue"],"sourcesContent":["<template>\r\n        <el-form :model=\"newMeetingRoom\" ref=\"addForm\" :rules=\"addFormRules\" label-width=\"80px\">\r\n            <el-form-item label=\"图片\" prop=\"name\">\r\n                <el-input v-model=\"newMeetingRoom.name\" />\r\n            </el-form-item>\r\n            <el-form-item label=\"会议室名称\" prop=\"name\">\r\n                <el-input v-model=\"newMeetingRoom.name\" />\r\n            </el-form-item>\r\n            <el-form-item label=\"类型\" prop=\"capacity\">\r\n                <el-input-number v-model=\"newMeetingRoom.capacity\" :min=\"1\" />\r\n            </el-form-item>\r\n            <el-form-item label=\"位置\" prop=\"name\">\r\n                <el-input v-model=\"newMeetingRoom.name\" />\r\n            </el-form-item>\r\n        </el-form>\r\n        <div class=\"dialog-footer\">\r\n            <el-button type=\"primary\" :loading=\"addDialogLoading\" @click=\"addMeetingRoom,$emit('submit')\">确定</el-button>\r\n        </div>\r\n</template>\r\n<script setup>\r\nimport axios from 'axios';\r\nimport { ref } from 'vue';\r\n\r\nconst addDialogLoading = ref(false);\r\nconst newMeetingRoom = ref({\r\n    name: '',\r\n    capacity: null\r\n});\r\nconst addFormRules = ref({\r\n    name: [\r\n        { required: true, message: '请输入会议室名称', trigger: 'blur' }\r\n    ],\r\n    capacity: [\r\n        { required: true, message: '请输入容纳人数', trigger: 'blur' },\r\n        { type: 'number', message: '请输入有效的数字', trigger: 'blur' }\r\n    ]\r\n});\r\nconst addForm=ref(null)\r\nconst addMeetingRoom = () => {\r\n    addForm.value.validate((valid) => {\r\n        if (valid) {\r\n            addDialogLoading.value = true;\r\n            // 模拟异步请求\r\n            axios.post(\"/room\", newMeetingRoom.value);\r\n            addDialogLoading.value = false;\r\n            //getMeetingRoomList()\r\n        }\r\n    });\r\n};\r\n</script>"],"mappings":";;;;AAoBA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,GAAG,QAAQ,KAAK;;;;IAEzB,MAAMC,gBAAgB,GAAGD,GAAG,CAAC,KAAK,CAAC;IACnC,MAAME,cAAc,GAAGF,GAAG,CAAC;MACvBG,IAAI,EAAE,EAAE;MACRC,QAAQ,EAAE;IACd,CAAC,CAAC;IACF,MAAMC,YAAY,GAAGL,GAAG,CAAC;MACrBG,IAAI,EAAE,CACF;QAAEG,QAAQ,EAAE,IAAI;QAAEC,OAAO,EAAE,UAAU;QAAEC,OAAO,EAAE;MAAO,CAAC,CAC3D;MACDJ,QAAQ,EAAE,CACN;QAAEE,QAAQ,EAAE,IAAI;QAAEC,OAAO,EAAE,SAAS;QAAEC,OAAO,EAAE;MAAO,CAAC,EACvD;QAAEC,IAAI,EAAE,QAAQ;QAAEF,OAAO,EAAE,UAAU;QAAEC,OAAO,EAAE;MAAO,CAAC;IAEhE,CAAC,CAAC;IACF,MAAME,OAAO,GAACV,GAAG,CAAC,IAAI,CAAC;IACvB,MAAMW,cAAc,GAAGA,CAAA,KAAM;MACzBD,OAAO,CAACE,KAAK,CAACC,QAAQ,CAAEC,KAAK,IAAK;QAC9B,IAAIA,KAAK,EAAE;UACPb,gBAAgB,CAACW,KAAK,GAAG,IAAI;UAC7B;UACAb,KAAK,CAACgB,IAAI,CAAC,OAAO,EAAEb,cAAc,CAACU,KAAK,CAAC;UACzCX,gBAAgB,CAACW,KAAK,GAAG,KAAK;UAC9B;QACJ;MACJ,CAAC,CAAC;IACN,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}